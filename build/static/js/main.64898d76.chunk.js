(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),r=n(3),i=n(1),o=n(0),u=function(e){var t=e.inputText,n=e.inputValueState,c=e.onChangeHandler;return Object(o.jsxs)("div",{children:[" ",t," ",Object(o.jsx)("input",{value:n,onChange:c})," "]})},s=function(e){var t=e.displayedPersons,n=e.deletePersonApiFunc;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name:"}),Object(o.jsx)("th",{children:"Number:"})]}),t.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.number}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(){return n(e.id)},children:"delete"})})]},e.id)}))]})})]})},l=function(e){var t=e.addPerson,n=e.newName,c=e.handleNewName,a=e.newTel,r=e.handleNewTel;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:t,autoComplete:"off",children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{value:n,onChange:c})]}),Object(o.jsxs)("div",{children:["tel: ",Object(o.jsx)("input",{value:a,onChange:r})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})})},d=n(4),j=n.n(d),b="./api/persons",h=function(){return j.a.get(b)},f=function(e){return j.a.post(b,e)},O=function(e){return j.a.delete("".concat(b,"/").concat(e))},m=function(e){j.a.patch("".concat(b,"/").concat(e.id),e)},x=function(e){var t=e.notificationMessage;return null===t?null:Object(o.jsx)("div",{className:"error",children:t})},v=function(e){var t=e.notificationMessage;return null===t?null:Object(o.jsx)("div",{className:"notification",children:t})},p=(n(38),function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(n),d=Object(r.a)(a,2),j=d[0],b=d[1],p=Object(i.useState)(null),g=Object(r.a)(p,2),w=g[0],N=g[1],S=Object(i.useState)(null),C=Object(r.a)(S,2),k=C[0],y=C[1],P=Object(i.useState)(""),T=Object(r.a)(P,2),M=T[0],E=T[1],A=Object(i.useState)(""),D=Object(r.a)(A,2),F=D[0],V=D[1],H=Object(i.useState)(""),J=Object(r.a)(H,2),L=J[0],B=J[1];Object(i.useEffect)((function(){h().then((function(e){c(e.data),b(e.data)}))}),[]);var I=function(e,t){e(t),setTimeout((function(){return e(null)}),2300)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(u,{inputText:"Search",inputValueState:L,onChangeHandler:function(e){B(e.target.value);var t=n.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));t&&b(t)}}),Object(o.jsx)(v,{notificationMessage:w}),Object(o.jsx)(x,{notificationMessage:k}),Object(o.jsx)("h3",{children:"Add a new"}),Object(o.jsx)(l,{addPerson:function(e){e.preventDefault();var t={name:M,number:F},c=n.filter((function(e){return e.name===M}));if(c.length)if(c[0].number!==F){if(window.confirm("".concat(c[0].name," already added to the phone book, replace the old number with the new one?"))){var a=c[0];a.number=F,console.log(a),m(a),E(""),V("")}}else I(y,"".concat(t.name," is already on the list!"));c.length||f(t).then((function(e){console.log(n,e.data),E(""),V(""),I(N,"".concat(t.name," has been added!"))})).catch((function(e){I(y,e.message)}))},newName:M,handleNewName:function(e){E(e.target.value)},newTel:F,handleNewTel:function(e){V(e.target.value)}}),Object(o.jsx)(s,{displayedPersons:j,deletePersonApiFunc:function(e){var t=n.filter((function(t){return t.id===e}))[0];window.confirm("Delete ".concat(t.name," from the reccord?"))&&O(e).then((function(){var t=j.filter((function(t){return t.id!==e}));b(t),I(N,"REMOVED")})).catch((function(e){return I(y,e.message)}))}})]})});a.a.render(Object(o.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.64898d76.chunk.js.map